(()=>{"use strict";var e,t={9882:(e,t,n)=>{const r=(e,t=[],n)=>{const r=document.createElement(e);return t.length&&r.classList.add(...t),n&&(r.textContent=n),r};function a(){}var o=n(5503);n(6550);o.Z.initializeApp({apiKey:"AIzaSyDj1e58oeXOkrXcrLnhMkWfOiNW1VVxASE",authDomain:"fe-upload-f29c7.firebaseapp.com",projectId:"fe-upload-f29c7",storageBucket:"fe-upload-f29c7.appspot.com",messagingSenderId:"825205049392",appId:"1:825205049392:web:0ec741dfc7ff3864eec5f5"});const i=o.Z.storage();!function(e,t={}){let n=[];const o=t.onUpload??a,i=document.querySelector(e),s=r("div",["preview"]),c=r("button",["btn"],"Открыть"),l=r("button",["btn","primary"],"Загрузить");l.style.display="none",t.multi&&i.setAttribute("multiple",!0),t.accept&&Array.isArray(t.accept)&&i.setAttribute("accept",t.accept.join(",")),i.insertAdjacentElement("afterend",s),i.insertAdjacentElement("afterend",l),i.insertAdjacentElement("afterend",c);const d=e=>{e.style.bottom="0px",e.innerHTML='<div class="preview-info-progress"></div>'};c.addEventListener("click",(()=>i.click())),i.addEventListener("change",(e=>{e.target.files.length&&(n=Array.from(e.target.files),s.innerHTML="",l.style.display="inline",n.forEach((e=>{if(!e.type.match("image"))return;const t=new FileReader;t.onload=t=>{const n=t.target.result;s.insertAdjacentHTML("afterbegin",`\n                    <div class="preview-img">\n                        <div class="contain">\n                            <div class="preview-remove" data-name="${e.name}">&times;</div>\n                            <img src="${n}" alt="${e.name}"/>\n                            <div class="preview-info">\n                                <span>${e.name}</span>\n                                ${function(e){if(!e)return"0 Byte";const t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t))+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)}\n                            </div>\n                        </div>\n                    </div>\n                `)},t.readAsDataURL(e)})))})),s.addEventListener("click",(e=>{if(!e.target.dataset.name)return;const{name:t}=e.target.dataset;n=n.filter((e=>e.name!==t)),n.length||(l.style.display="none");const r=s.querySelector(`[data-name="${t}"`).closest(".preview-img");r.classList.add("removing"),setTimeout((()=>r.remove()),300)})),l.addEventListener("click",(()=>{s.querySelectorAll(".preview-remove").forEach((e=>e.remove()));const e=s.querySelectorAll(".preview-info");e.forEach(d),o(n,e)}))}("#file",{multi:!0,accept:[".png",".jpg",".jpeg",".gif"],onUpload(e,t){e.forEach(((e,n)=>{const r=i.ref(`images/${e.name}`).put(e);r.on("state_changed",(e=>{const r=(e.bytesTransferred/e.totalBytes*100).toFixed(0)+"%",a=t[n].querySelector(".preview-info-progress");a.textContent=r,a.style.width=r}),(e=>{console.log(e)}),(()=>{r.snapshot.ref.getDownloadURL().then((e=>{console.log("Download URL",e)}))}))}))}})}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,a,o]=e[l],s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,o<i&&(i=o));s&&(e.splice(l--,1),t=a())}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,a,o]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,c]=n,l=0;for(a in s)r.o(s,a)&&(r.m[a]=s[a]);for(c&&c(r),t&&t(n);l<i.length;l++)o=i[l],r.o(e,o)&&e[o]&&e[o][0](),e[i[l]]=0;r.O()},n=self.webpackChunkjs=self.webpackChunkjs||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.O(void 0,[793],(()=>r(6981)));var a=r.O(void 0,[793],(()=>r(9882)));a=r.O(a)})();